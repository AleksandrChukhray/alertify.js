!function(a){"use strict";function b(a){a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}function c(a){this.message=a,this.type="alert"}function d(a){this.message=a,this.type="confirm"}function e(a,b){this.message=a,this.value=b,this.type="prompt"}function f(b,d,e){return this.type="notificatin",this.properties=e||!1,this.message=b,this.permission=Notification.permission,this.fallback=!1,this.parameters=d||{},"function"==typeof this.onclose&&(this.options.onclose=this.onclose),"denied"!==this.permission&&"granted"!==this.permission?Notification.requestPermission(function(a){this.permission=Notification.permission=a}):this.permission=Notification.permission,!1 in a?this.fallback=!0:"granted"!==this.permission&&(this.fallback=!0),this.fallback?(this.type="alert",new c(b)):(this.type="notification",this)}function g(){return{settings:k.settings,alert:function(a){return new c(a)},confirm:function(a){return new d(a)},prompt:function(a,b){return new e(a,b)},notification:function(a,b,c){return new f(a,b,c)}}}var h=function(){return document.addEventListener?function(a,b,c){a.addEventListener(b,c,!1)}:document.attachEvent?function(a,b,c){a.attachEvent("on"+b,c)}:void 0}(),i=function(a,b,c){a.removeEventListener(b,c,!1)},j=function(){var a,b,c=!1,d=document.createElement("fakeelement"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(a in e)if(void 0!==d.style[a]){b=e[a],c=!0;break}return{type:b,supported:c}}(),k=function(){function a(){w.innerHTML=m.message,s.innerHTML=m.settings.ok,t.innerHTML=m.settings.cancel,v.value=m.value||""}function c(a){b(a),clearTimeout(n),d(),"function"==typeof m.onfocus&&m.onfocus(),i(m.el,j.type,c)}function d(a){if(h(document.body,"keyup",l),"prompt"===m.type)v.focus(),v.select();else if(a)"alert"===m.type?s.focus():y.children[0].focus();else switch(m.settings.focus){case"ok":s.focus();break;case"cancel":t.focus();break;default:s.focus()}}function e(a){b(a),d(!0)}function f(a){b(a),m.close(),"function"==typeof m.ok&&m.ok(v.value)}function g(a){b(a),m.close(),"function"==typeof m.cancel&&m.cancel()}function l(a){var b=a.keyCode;b===A.ENTER&&f(a),b===A.ESC&&/prompt|confirm/.test(m.type)&&g(a)}var m,n,o="alertify",p=o+" alertify--",q="alertify-cover",r=q+" alertify-hidden",s=document.getElementById("alertifyButtonOk"),t=document.getElementById("alertifyButtonCancel"),u=document.getElementById("alertifyFocusReset"),v=document.getElementById("alertifyInput"),w=document.getElementById("alertifyTitle"),x=document.getElementById("alertifyCover"),y=document.getElementById("alertifyButtons"),z=!1,A={ENTER:13,ESC:27};return document.body.setAttribute("tabindex","0"),{el:document.getElementById("alertifyDialog"),activeElement:document.body,settings:{ok:"OK",cancel:"Cancel",focus:"ok"},isOpen:function(){return z},show:function(){if(z)return!1;if(m=this,"notification"===this.type){var b=new Notification(this.message,this.parameters);return this.properties&&["onclick","onerror","onshow","ondisplay"].forEach(function(a){a in m.properties&&"function"==typeof m.properties[a]&&(b[a]=m.properties[a])}),!0}return z=!0,a(),k.activeElement=document.activeElement,h(s,"click",f),h(t,"click",g),h(u,"focus",e),j.supported&&(h(this.el,j.type,c),clearTimeout(n),n=setTimeout(c,1e3)),x.className=q,this.el.className=p+this.type,j.supported||d(),"function"==typeof this.onshow&&this.onshow(),!0},close:function(){i(s,"click",f),i(t,"click",g),i(document.body,"keyup",l),i(u,"focus",e),x.className=r,this.el.className+=" alertify-close",k.activeElement.focus(),z=!1,"function"==typeof this.onclose&&this.onclose()}}}();c.prototype=k,d.prototype=k,e.prototype=k,f.prototype=k,"function"==typeof define?define([],function(){return new g}):a.alertify||(a.alertify=new g)}(window);
//# sourceMappingURL=alertify.js.map